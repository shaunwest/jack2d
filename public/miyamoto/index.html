<!DOCTYPE html>
<html>
<head>
  <title>Super Moto Bros.</title>
  <script src="../js/jack2d.js"></script>
  <script src="../js/jack2d-platformer.js"></script>
  <script src="js/constants.js"></script>
  <script src="js/world.js"></script>
  <script src="js/moto.js"></script>
  <style>
    #viewport { background-color: black; }
  </style>
  <script>
    var moto;

    jack2d(['World', 'Moto', 'CanvasViewport', 'SpriteLayer', 'BackgroundLayer'],
      function(World, Moto, CanvasViewport, SpriteLayer, BackgroundLayer) {
        'use strict';

        moto = Moto();
        moto.loadSpriteSheet('img/miyamoto.png');

        World
          .setWorldBounds(512, 256)
          .addObject(moto);

        SpriteLayer.addSprite(moto);

        CanvasViewport
          .el('#viewport')
          .setFocus(moto)
          .setFocusRegion(64, 0, 192, 256)
          .setViewportWidth(256)
          .setViewportHeight(256)
          .addLayer(BackgroundLayer, 1)
          .addLayer(SpriteLayer);

        CanvasViewport.hasBorder = true;
        CanvasViewport.drawFocusRegion = true;
      }
    );
  </script>
</head>
<body>
  <canvas id="viewport" width="256" height="256"></canvas>
</body>
</html>