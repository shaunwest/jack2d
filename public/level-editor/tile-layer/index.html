<!DOCTYPE html>
<html>
<head>
  <title>Level Editor Tile Layer</title>
  <script src="../../bower-components/jquery/dist/jquery.min.js"></script>
  <script src="../../js/jack2d.js"></script>
  <script src="../tile-set/js/demo.js"></script>
  <script src="js/demo.js"></script>
  <script>
    $(document).ready(function() {
      var demo = jack2d('demo.tileLayer');

      demo.getTileLayers().then(function(layers) {
        $('#layer1')[0].getContext('2d').drawImage(layers.layer1.canvas, 0, 0);
        $('#layer2')[0].getContext('2d').drawImage(layers.layer2.canvas, 0, 0);
        $('#tile1')[0].getContext('2d').drawImage(layers.layer1.getTileByPixels(75, 36), 0, 0);
        $('#tile2')[0].getContext('2d').drawImage(layers.layer2.getTile(0, 7), 0, 0);

        $('#updateTile').on('click', function() {
          demo.updateTile();
          $('#layer1')[0].getContext('2d').drawImage(layers.layer1.draw().canvas, 0, 0);
        });
      });
    });
  </script>
  <style>
    canvas { background: red;}
  </style>
</head>
<body>
  Layer 1: <canvas id="layer1" width="128" height="128"></canvas>
  Layer 2: <canvas id="layer2" width="128" height="128"></canvas>
  getTileByPixels: <canvas id="tile1" width="16" height="16"></canvas>
  getTile: <canvas id="tile2" width="16" height="16"></canvas>
  <button id="updateTile">Update Tile</button>
</body>
</html>